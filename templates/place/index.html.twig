{% extends 'base.html.twig' %}

{% block title %}{{ place.name }}{% endblock %}

{% block body %}

    <style>
        .favorite_place_delete {
            float: left;
            width: 54px;
            height: 40px;
            background: url("{{ asset('../images/icon-favorites.png') }}") no-repeat 0px 0px;
            transition: 0.5s;
        }
        .favorite_place_delete:hover {
            background-position: 0px -48px;
        }

        .favorite_place_delete:focus {
            background-position: 0px -48px;
        }

        {#.elementRate
        {
            border: hidden;
            height: 50px;
            overflow-y: hidden;
        }#}

        .elementRate > * {
            float: left;
            padding: 10px 0 0 16px;
            color: white;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .elementRate > *:nth-child(0n+10) {
            padding: 10px 0 0 10px;
        }

        .elementRate > *:nth-child(0n+1):hover {
            background-position: 0px 2px;
        }

        .elementRate > *:nth-child(0n+2):hover {
            background-position: 0px 2px;
        }

        .elementRate > *:nth-child(0n+3):hover{
            background-position: 0px 2px;
        }

        .elementRate > *:nth-child(0n+4):hover{
            background-position: 0px 2px;
        }

        .elementRate > *:nth-child(0n+5):hover {
            background-position: 0px 2px;
        }

        .elementRate > *:nth-child(0n+6):hover {
            background-position: 0px 2px;
        }

        .elementRate > *:nth-child(0n+7):hover {
            background-position: 0px 2px;
        }

        .elementRate > *:nth-child(0n+8):hover {
            background-position: 0px 2px;
        }

        .elementRate > *:nth-child(0n+9):hover{
            background-position: 0px 2px;
        }

        .elementRate > *:nth-child(0n+10):hover {
            background-position: 0px 2px;
        }

        .elementRate > *:nth-child(0n+1):focus,
        .elementRate > *:nth-child(0n+2):focus,
        .elementRate > *:nth-child(0n+3):focus,
        .elementRate > *:nth-child(0n+4):focus,
        .elementRate > *:nth-child(0n+5):focus,
        .elementRate > *:nth-child(0n+6):focus,
        .elementRate > *:nth-child(0n+7):focus,
        .elementRate > *:nth-child(0n+8):focus,
        .elementRate > *:nth-child(0n+9):focus,
        .elementRate > *:nth-child(0n+10):focus
        {
            background-position: 0px 2px;
        }

        .elementRate > *:nth-child(0n+1):active,
        .elementRate > *:nth-child(0n+2):active,
        .elementRate > *:nth-child(0n+3):active,
        .elementRate > *:nth-child(0n+4):active,
        .elementRate > *:nth-child(0n+5):active,
        .elementRate > *:nth-child(0n+6):active,
        .elementRate > *:nth-child(0n+7):active,
        .elementRate > *:nth-child(0n+8):active,
        .elementRate > *:nth-child(0n+9):active,
        .elementRate > *:nth-child(0n+10):active
        {
            background-position: 0px 2px;
        }


    </style>

    <div class="information">
        <div class="grid-container">
            <div class="grid-x grid-margin-x">
                <div class="cell small-12 medium-12 large-6 info_left">
                    <div class="section_title">
                        <h1> {{ place.name }} </h1>
                        {#
                        <div class="user_rating">
                            <a href="#100" class="favorite_place"></a>
                            <p class="" style="">
                                <span class="elementRate">
                                    <a href="#10" class="rate-show"></a>
                                    <a href="#9" class="rate-show"></a>
                                    <a href="#8" class="rate-show"></a>
                                    <a href="#7" class="rate-show"></a>
                                    <a href="#6" class="rate-show"></a>
                                    <a href="#5" class="rate-show"></a>
                                    <a href="#4" class="rate-show"></a>
                                    <a href="#3" class="rate-show"></a>
                                    <a href="#2" class="rate-show"></a>
                                    <a href="#1" class="rate-show"></a>
                                </span>
                            </p>
                        </div>
                        #}
                        <div class="user_rating">

                        {% if app.user and saved %}
                            <a class="favorite_place_delete" href="{{ path('remove_from_favourite', { 'id' : place.id }) }}"></a>
                        {% elseif app.user %}
                            <a class="favorite_place" href="{{ path('add_to_favourite', { 'id' : place.id }) }}"></a>
                        {% endif %}

                        </div>

                        <div class="edit_place">
                            {% if app.user and app.user.role.name == 'ROLE_ADMIN' %}
                                <a href="{{ path('edit services', { 'id' : place.id }) }}">Редактировать услуги места</a>
                                <a href="{{ path('edit place', { 'id' : place.id }) }}">Редактировать место</a>
                            {% endif %}
                        </div>
                        <p class="text_info"> Rate: {{ argRate }}</p>
                    </div>

                    <div class="info">
                        <spam class="title_info">Телефон:</spam>
                        <p class="text_info">{{ place.phoneNumber }}</p>
                        <spam class="title_info">Адрес:</spam>
                        <p class="text_info">{{ place.address }}</p>
                        <spam class="title_info">Категория:</spam>
                        <p class="text_info">{{ place.category.name }}</p>
                    </div>

                    <div class="working_hours">
                        <spam class="title_info">Время работы:</spam><br />
                        <div class="grid-container">
                            <div class="grid-x grid-margin-x">
                                <div class="cell small-12 medium-12 large-12">
                                    <table class="list_table">
                                        <tbody class="list_tbody">
                                        {% for  workTime in workTimes %}
                                            <tr>
                                                <td class="text_info">День недели</td>
                                                <td class="text_info">{{ workTime.startTime|date("H:i", false) }} – {{ workTime.endTime|date("H:i", false) }}</td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="list_of_services">
                        <spam class="title_info">Список услуг:</spam><br />
                        <div class="grid-container">
                            <div class="grid-x grid-margin-x">
                                <div class="cell small-12 medium-12 large-12">
                                    <table class="list_table">
                                        <tbody class="list_tbody">
                                        {% for  service in place.PlaceHasServices %}
                                            <tr>
                                                <td class="text_info">{{ service.service.name }}</td>
                                                <td class="text_info">{{ service.price }}</td>
                                            </tr>
                                            {#<p class="text_info">услуга: {{ service.service.name }}</p>
                                            <p class="text_info">цена: {{ service.price }}</p>#}
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="description">
                        <spam class="title_info">Описание:</spam>
                        <p class="text_info">{{ place.description }}</p>
                    </div>

                    <div class="div_review">
                        <spam class="title_info">Оценить заведение</spam>
                        <form action="{{ path('place', { 'id' : place.id }) }}" method="POST">

                            <span class="elementRate">

                                <select name="rate">
                                {% for i in 1..10 %}
                                    <option value="{{ i }}" class="rate-show">{{ i }}</option>

                                        {#<option class="rate-show" value="{{ i }}">{{ i }}</option>#}
                                    {% endfor %}
                                </select>
                            </span>

                            {#</select>#}

                            {#<input class="input_review" placeholder="Поделиться мнением, написать отзыв" type="text" name="feedback_text">#}
                            <textarea name="feedback_text" class="input_review" placeholder="Поделиться мнением, написать отзыв"></textarea>
                            <button class="button send_comment" type="submit">Leave feedback</button>
                        </form>

                        <div class="comments">
                            {% for  commentary in commentaries %}

                                <div>
                                    {{ commentary.user.name }}
                                    {{ commentary.rate }}
                                    {{ commentary.feedback }}
                                    {{ commentary.date|date("d/m/y", false) }}
                                </div>

                            {% endfor %}
                        </div>

                    </div>
                </div>

                <div class="cell small-3 medium-3 large-6">
                    <div id="map" class="map"></div>

                    <div>
                        {% for  image in imagesPaths %}

                            <img src="{{ asset( image ) }} " width="200" height="200"/>

                        {% endfor %}
                    </div>
                </div>


            </div>
        </div>
    </div>
    {% block javascripts %}
        <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
        <script src="{{ asset('/js/main.js') }}" type="text/javascript"></script>
    {% endblock %}



{% endblock %}
